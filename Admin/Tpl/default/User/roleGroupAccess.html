<script>
var ztreeId = '{$ztreeId}';
$(document).ready(function(){
	var zNodes = {$roleaccesstree};
	var setting = {
			view: {
               selectedMulti: false,
               fontCss: getFontCss
           },
			data: {
				simpleData: {
					enable: true
				}
			},
			check: {
				enable: true,
				chkboxType: {"Y":"ps","N":"ps"}
			},
			callback: {
				onCheck: zTreeOnCheck
			}
		};
	$.fn.zTree.init($("#"+ztreeId), setting, zNodes);
});
function zTreeOnCheck(event, treeId, treeNode) {
	//var checked=0;
	//if(treeNode.checked) checked = 1;
	//for(var i = 0; i < treeNode.children.length; i++) {
		//alert(treeNode.children[i].id);
		/*$.ajax({
			type:"POST",
			url:"__URL__/nodeSaveNew",
			data:{roleid:rooleid,nodeid:treeNode.children[i].id,type:type},
			cache:false,
			success:function(res){
			    //alert(res);
			},
			error:DWZ.ajaxError
		});*/
	//}
}
</script>
<div class="pageContent">
{:W("ShowToLevelMenu")}
<div class="treeleft">
<div class="collapse" layoutH="10">
	<div class="toggleCollapse"><div></div></div>
</div>
<div class="close">
	<div class="toggleCollapse" ><h2></h2><div></div></div>
	<div class="clearfix p5">
		<input class="tree-search-input" type="text" id="userrole_rightSearchNodeKeys" />
		<div class="buttonActive"><div class="buttonContent" onclick="SearchZTreeNode('{$ztreeId}','userrole_rightSearchNodeKeys')"><button>搜索</button></div></div>
		</div>
		<ul id="{$ztreeId}" class="ztree" layoutH="90"></ul>
	</div>
</div>
<div id="{$rightztreeId}" class="unitBox treeright tml-border-b1" style="overflow:hidden;">
	<include file="roleGroupAccessRight"  />
</div>
</div>