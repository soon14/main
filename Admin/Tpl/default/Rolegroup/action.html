<if condition="!empty($_GET['appId']) and !empty($_GET['moduleId'])" >
	<include file="./Tpl/default/Role/actionfrag/action.html" />

<elseif condition="!empty($_GET['appId'])" />
	<include file="./Tpl/default/Role/actionfrag/module.html" />

<else />
	<form id="setActionAction" method="post" action="__URL__/setAction" class="pageForm required-validate" onsubmit="return validateCallback(this, dialogunclose)">
		<input type="hidden" name="groupId" VALUE="{$Think.get.groupId}" />
		<div class="pageFormContent" layoutH="100" layoutType="dialog">
			<div class="unit">
				<label>{$Think.lang.app}ï¼š</label>
				<select name="appId" onchange="selectApp_action('#setActionAction')">
					<option value="">{$Think.lang.select}</option>
					<volist id="item" name="appList">
					<option value="{$key}" <?php echo in_array($key, $selectAppId) ? "selected" : "" ?>>{$item}</option>
					</volist>
				</select>
			</div>
			<div id="moduleSelectBox">
				<include file="./Tpl/default/Role/actionfrag/module.html" />
			</div>
		</div>
		<div class="formBar">
			<label style="float:left"><input type="checkbox" class="checkboxCtrl" group="groupActionId[]" />{$Think.lang.all_select}</label>
			<ul>
				<li><div class="button"><div class="buttonContent"><button type="button" class="checkboxCtrl" group="groupActionId[]" selectType="invert">{$Think.lang.anti_select}</button></div></div></li>
				<li><div class="buttonActive"><div class="buttonContent"><button type="submit">{$Think.lang.save}</button></div></div></li>
				<li><div class="button"><div class="buttonContent"><button type="button" onclick="$.pdialog.closeCurrent()">{$Think.lang.close}</button></div></div></li>
			</ul>
		</div>
	</form>
</if>
